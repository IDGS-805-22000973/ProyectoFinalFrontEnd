<!-- venta-form.component.html -->
<div class="bg-white border border-gray-200 rounded-lg p-6 mb-8">
  <h3 class="text-lg font-semibold text-gray-800 mb-6">Registrar Nueva Venta</h3>
  
  <form [formGroup]="ventaForm" (ngSubmit)="onSubmit()" class="space-y-6">
    
    <!-- Producto -->
    <div>
      <label for="producto" class="block text-sm font-medium text-gray-700 mb-1">
        Producto
      </label>
      <mat-form-field appearance="outline" class="w-full">
        <mat-select formControlName="productoId" required>
          <mat-option *ngFor="let producto of productos" [value]="producto.id">
            {{producto.nombre}} - ${{producto.precioVenta | number}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div *ngIf="ventaForm.get('productoId')?.hasError('required') && ventaForm.get('productoId')?.touched" 
           class="text-red-600 text-sm mt-1">
        Seleccione un producto
      </div>
    </div>

    <!-- Cantidad -->
    <div>
      <label for="cantidad" class="block text-sm font-medium text-gray-700 mb-1">
        Cantidad
      </label>
      <input 
        type="number" 
        id="cantidad"
        formControlName="cantidad" 
        min="1"
        placeholder="1"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition duration-200"
        [class.border-red-500]="ventaForm.get('cantidad')?.invalid && ventaForm.get('cantidad')?.touched"
        [class.focus:ring-red-500]="ventaForm.get('cantidad')?.invalid && ventaForm.get('cantidad')?.touched"
      >
      <div *ngIf="ventaForm.get('cantidad')?.hasError('required') && ventaForm.get('cantidad')?.touched" 
           class="text-red-600 text-sm mt-1">
        La cantidad es requerida
      </div>
      <div *ngIf="ventaForm.get('cantidad')?.hasError('min') && ventaForm.get('cantidad')?.touched" 
           class="text-red-600 text-sm mt-1">
        La cantidad debe ser al menos 1
      </div>
    </div>

    <!-- Cliente -->
    <div>
      <label for="cliente" class="block text-sm font-medium text-gray-700 mb-1">
        Cliente
      </label>
      <mat-form-field appearance="outline" class="w-full">
        <mat-select formControlName="clienteId" required>
          <mat-option *ngFor="let cliente of clientes" [value]="cliente.id">
            {{cliente.nombre}} ({{cliente.email}})
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div *ngIf="ventaForm.get('clienteId')?.hasError('required') && ventaForm.get('clienteId')?.touched" 
           class="text-red-600 text-sm mt-1">
        Seleccione un cliente
      </div>
    </div>

    <!-- Acciones del formulario -->
    <div class="flex flex-col sm:flex-row gap-3 pt-4 border-t">
      <button 
        type="button" 
        (click)="onCancel()"
        class="px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200">
        Cancelar
      </button>

      <button 
        type="submit" 
        [disabled]="!ventaForm.valid"
        class="sm:ml-auto px-6 py-2 bg-purple-500 text-white font-medium rounded-md hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        Crear Venta
      </button>
    </div>

  </form>
</div>