<!-- Contenido del componente app-cliente-list -->
<div class="w-full">
  <div class="mb-8">
    <!-- Header Section más compacto -->
    <div class="text-center mb-8">
      <p class="text-gray-600 text-lg">Gestiona tus compras y productos de manera eficiente</p>
      <div class="w-24 h-1 bg-[#4BCACF] mx-auto mt-3 rounded-full"></div>
    </div>

    <!-- Navegación -->
    <nav class="bg-white rounded-2xl shadow-lg border border-gray-200 mb-8 overflow-hidden backdrop-blur-sm bg-white/90">
      <div class="flex relative">
        <button 
          class="flex-1 px-10 py-6 text-base font-semibold transition-all duration-300 relative overflow-hidden group"
          [class]="vistaActual === 'compras' ? 'text-white bg-[#173A53]' : 'text-[#173A53] hover:text-[#4BCACF] hover:bg-gray-50'"
          (click)="cambiarVista('compras')">
          <span class="relative z-10 flex items-center justify-center">
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
            </svg>
            Mis Compras
          </span>
          <div class="absolute inset-0 bg-[#4BCACF] transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></div>
        </button>
        <button 
          class="flex-1 px-10 py-6 text-base font-semibold transition-all duration-300 relative overflow-hidden group"
          [class]="vistaActual === 'productos' ? 'text-white bg-[#173A53]' : 'text-[#173A53] hover:text-[#4BCACF] hover:bg-gray-50'"
          (click)="cambiarVista('productos')">
          <span class="relative z-10 flex items-center justify-center">
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
            </svg>
            Mis Productos
          </span>
          <div class="absolute inset-0 bg-[#4BCACF] transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></div>
        </button>
      </div>
    </nav>

    <!-- Contenido -->
    <div class="bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden backdrop-blur-sm bg-white/95">
      @if (cargando) {
        <div class="flex items-center justify-center py-24">
          <div class="flex flex-col items-center space-y-4">
            <div class="relative">
              <div class="animate-spin rounded-full h-12 w-12 border-4 border-gray-200"></div>
              <div class="animate-spin rounded-full h-12 w-12 border-4 border-[#4BCACF] border-t-transparent absolute top-0"></div>
            </div>
            <span class="text-[#173A53] font-semibold text-lg">Cargando información...</span>
          </div>
        </div>
      }
      @else if (error) {
        <div class="p-10">
          <div class="bg-red-50 border-l-4 border-red-400 rounded-lg p-6 shadow-sm">
            <div class="flex items-center">
              <div class="flex-shrink-0">
                <svg class="h-6 w-6 text-red-400" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                </svg>
              </div>
              <div class="ml-4">
                <p class="text-base font-semibold text-red-800">{{ error }}</p>
              </div>
            </div>
          </div>
        </div>
      }
      @else {
        @if (vistaActual === 'compras') {
          <div class="p-10">
            <div class="mb-8">
              <div class="flex items-center mb-4">
                <div class="w-2 h-8 bg-[#4BCACF] rounded-full mr-4"></div>
                <h2 class="text-3xl font-bold text-[#173A53]">Historial de Compras</h2>
              </div>
              <p class="text-gray-600 text-lg ml-6">Revisa todas tus transacciones realizadas con detalle</p>
            </div>
            
            @if (ventas.length === 0) {
              <div class="text-center py-20">
                <div class="bg-gray-50 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6">
                  <svg class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                  </svg>
                </div>
                <h3 class="text-2xl font-semibold text-[#173A53] mb-3">No tienes compras registradas</h3>
                <p class="text-gray-500 text-lg">Cuando realices tu primera compra, aparecerá aquí.</p>
              </div>
            } @else {
              <div class="overflow-hidden shadow-xl ring-1 ring-black ring-opacity-5 rounded-xl">
                <table class="min-w-full divide-y divide-gray-300">
                  <thead class="bg-[#173A53]">
                    <tr>
                      <th class="px-8 py-4 text-left text-sm font-bold text-white uppercase tracking-wider">Fecha</th>
                      <th class="px-8 py-4 text-left text-sm font-bold text-white uppercase tracking-wider">Producto</th>
                      <th class="px-8 py-4 text-left text-sm font-bold text-white uppercase tracking-wider">Cantidad</th>
                      <th class="px-8 py-4 text-left text-sm font-bold text-white uppercase tracking-wider">Precio Unitario</th>
                      <th class="px-8 py-4 text-left text-sm font-bold text-white uppercase tracking-wider">Total</th>
                      <th class="px-8 py-4 text-left text-sm font-bold text-white uppercase tracking-wider">Estado</th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                    @for (venta of ventas; track venta.id) {
                      <tr class="hover:bg-gray-50 transition-all duration-200 group">
                        <td class="px-8 py-5 whitespace-nowrap text-sm text-[#173A53] font-medium">
                          {{ venta.fechaVenta | date:'dd/MM/yyyy' }}
                        </td>
                        <td class="px-8 py-5 whitespace-nowrap">
                          <div class="text-sm font-semibold text-[#173A53]">{{ venta.producto.nombre }}</div>
                        </td>
                        <td class="px-8 py-5 whitespace-nowrap text-sm text-[#173A53] font-medium">
                          {{ venta.cantidad }}
                        </td>
                        <td class="px-8 py-5 whitespace-nowrap text-sm text-[#173A53] font-semibold">
                          {{ venta.precioUnitario | currency:'USD':'symbol':'1.2-2' }}
                        </td>
                        <td class="px-8 py-5 whitespace-nowrap text-base font-bold text-[#173A53]">
                          {{ venta.total | currency:'USD':'symbol':'1.2-2' }}
                        </td>
                        <td class="px-8 py-5 whitespace-nowrap">
                          <span 
                            class="px-4 py-2 inline-flex text-xs font-bold rounded-full shadow-sm"
                            [ngClass]="{
                              'bg-green-100 text-green-800 border border-green-200': venta.estado.toLowerCase() === 'completado',
                              'bg-yellow-100 text-yellow-800 border border-yellow-200': venta.estado.toLowerCase() === 'pendiente',
                              'bg-blue-100 text-blue-800 border border-blue-200': venta.estado.toLowerCase() === 'procesando',
                              'bg-red-100 text-red-800 border border-red-200': venta.estado.toLowerCase() === 'cancelado',
                              'bg-gray-100 text-gray-800 border border-gray-200': !['completado', 'pendiente', 'procesando', 'cancelado'].includes(venta.estado.toLowerCase())
                            }">
                            {{ venta.estado }}
                          </span>
                        </td>
                      </tr>
                    }
                  </tbody>
                </table>
              </div>
            }
          </div>
        } @else {
          <div class="p-10">
            <div class="mb-8">
              <div class="flex items-center mb-4">
                <div class="w-2 h-8 bg-[#4BCACF] rounded-full mr-4"></div>
                <h2 class="text-3xl font-bold text-[#173A53]">Mis Productos Adquiridos</h2>
              </div>
              <p class="text-gray-600 text-lg ml-6">Productos que has comprado y tienes disponibles</p>
            </div>
            
            @if (productos.length === 0) {
              <div class="text-center py-20">
                <div class="bg-gray-50 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6">
                  <svg class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                  </svg>
                </div>
                <h3 class="text-2xl font-semibold text-[#173A53] mb-3">No tienes productos adquiridos</h3>
                <p class="text-gray-500 text-lg">Los productos que compres aparecerán en esta sección.</p>
              </div>
            } @else {
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @for (producto of productos; track producto.id) {
                  <div class="bg-white border border-gray-200 rounded-2xl p-8 hover:shadow-xl transition-all duration-300 group hover:border-[#4BCACF] relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-[#173A53] to-[#4BCACF]"></div>
                    
                    <div class="mb-6">
                      <h3 class="text-xl font-bold text-[#173A53] mb-3 group-hover:text-[#4BCACF] transition-colors duration-300">
                        {{ producto.nombre }}
                      </h3>
                      <p class="text-gray-600 text-sm leading-relaxed">{{ producto.descripcion }}</p>
                    </div>
                    
                    <div class="mt-6 pt-6 border-t border-gray-100">
                      <div class="flex items-center justify-between">
                        <span class="text-xs font-bold text-gray-500 uppercase tracking-wider">Precio pagado</span>
                        <span class="text-2xl font-bold text-[#173A53] group-hover:text-[#4BCACF] transition-colors duration-300">
                          {{ producto.precioVenta | currency:'USD':'symbol':'1.2-2' }}
                        </span>
                      </div>
                    </div>

                    <div class="absolute bottom-0 right-0 w-20 h-20 bg-[#4BCACF] opacity-5 rounded-tl-full transform translate-x-8 translate-y-8 group-hover:translate-x-6 group-hover:translate-y-6 transition-transform duration-300"></div>
                  </div>
                }
              </div>
            }
          </div>
        }
      }
    </div>
  </div>
</div>