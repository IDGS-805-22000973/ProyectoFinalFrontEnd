<mat-card class="bg-white shadow-md rounded-lg border border-gray-100 overflow-hidden">
  <mat-card-header class="bg-gray-50 border-b border-gray-200 p-6">
    <mat-card-title class="text-xl font-semibold text-gray-800 m-0">Listado de Compras a Proveedores</mat-card-title>
  </mat-card-header>
  
  <mat-card-content class="p-0">
    @if (isLoading) {
      <div class="flex justify-center items-center py-12">
        <mat-spinner class="mx-auto"></mat-spinner>
      </div>
    } @else {
      <div class="overflow-x-auto">
        <table mat-table [dataSource]="compras" class="w-full">
          <!-- Columna ID -->
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef class="bg-gray-50 text-gray-700 font-medium text-sm py-3 px-4 text-left border-b border-gray-200"> 
              ID 
            </th>
            <td mat-cell *matCellDef="let compra" class="py-3 px-4 text-gray-600 border-b border-gray-100 font-mono text-sm">
              <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium">
                #{{compra.id}}
              </span>
            </td>
          </ng-container>

          <!-- Columna Fecha -->
          <ng-container matColumnDef="fechaCompra">
            <th mat-header-cell *matHeaderCellDef class="bg-gray-50 text-gray-700 font-medium text-sm py-3 px-4 text-left border-b border-gray-200"> 
              Fecha 
            </th>
            <td mat-cell *matCellDef="let compra" class="py-3 px-4 text-gray-600 border-b border-gray-100 font-mono"> 
              {{compra.fechaCompra | date:'dd/MM/yyyy'}} 
            </td>
          </ng-container>

          <!-- Columna Proveedor -->
          <ng-container matColumnDef="proveedorNombre">
            <th mat-header-cell *matHeaderCellDef class="bg-gray-50 text-gray-700 font-medium text-sm py-3 px-4 text-left border-b border-gray-200"> 
              Proveedor 
            </th>
            <td mat-cell *matCellDef="let compra" class="py-3 px-4 text-gray-900 font-medium border-b border-gray-100"> 
              {{compra.proveedorNombre}} 
            </td>
          </ng-container>

          <!-- Columna Total -->
          <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef class="bg-gray-50 text-gray-700 font-medium text-sm py-3 px-4 text-right border-b border-gray-200"> 
              Total 
            </th>
            <td mat-cell *matCellDef="let compra" class="py-3 px-4 text-gray-900 border-b border-gray-100 text-right font-mono font-semibold"> 
              {{compra.total | currency}}
            </td>
          </ng-container>

          <!-- Columna Acciones -->
          <ng-container matColumnDef="acciones">
            <th mat-header-cell *matHeaderCellDef class="bg-gray-50 text-gray-700 font-medium text-sm py-3 px-4 text-center border-b border-gray-200"> 
              Acciones 
            </th>
            <td mat-cell *matCellDef="let compra" class="py-3 px-4 border-b border-gray-100 text-center">
              <button mat-icon-button color="primary" matTooltip="Ver detalles"
                      class="hover:bg-blue-50 transition-colors duration-200">
                <mat-icon class="text-blue-600">visibility</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="hover:bg-gray-50 transition-colors duration-150"></tr>
        </table>
      </div>

      <div *ngIf="compras.length === 0" class="text-center py-12">
        <div class="max-w-sm mx-auto">
          <div class="text-gray-400 mb-3">
            <mat-icon class="text-5xl">shopping_cart</mat-icon>
          </div>
          <p class="text-gray-600 font-medium mb-1">No hay compras registradas</p>
          <p class="text-gray-500 text-sm">Las compras realizadas a proveedores aparecerán aquí.</p>
        </div>
      </div>
    }
  </mat-card-content>
</mat-card>